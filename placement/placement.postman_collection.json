{
	"id": "eb88a480-919c-4f21-905b-eb3a674d51de",
	"name": "placement",
	"description": null,
	"auth": null,
	"events": null,
	"variables": [],
	"order": [
		"f5ad2626-3ba4-45f2-988f-8519fe723984"
	],
	"folders_order": [],
	"protocolProfileBehavior": {},
	"folders": [],
	"requests": [
		{
			"id": "f5ad2626-3ba4-45f2-988f-8519fe723984",
			"name": "open api",
			"url": "http://test.aa.toponad.com/v1/open/placement?",
			"description": "",
			"data": [],
			"dataOptions": null,
			"dataMode": "raw",
			"headerData": [
				{
					"key": "Content-Type",
					"name": "Content-Type",
					"value": "application/json",
					"type": "text"
				}
			],
			"method": "POST",
			"pathVariableData": [],
			"queryParams": [
				{
					"key": "",
					"value": null,
					"equals": false,
					"description": "",
					"enabled": true
				}
			],
			"auth": null,
			"events": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d3353d9b-e3ff-43fe-803f-34cf62a616c7",
						"exec": [
							"var sdk_app_id = 'a5f2d081f67d5e'",
							"var sdk_app_key = '7c5bee9f388ccb7ea9b486354bfa30d8'",
							"var sdk_app_pl = 'b5f311e34be097'",
							"",
							"// var sdk_app_id = data.sdk_app_id",
							"// var sdk_app_key = data.sdk_app_key",
							"// var sdk_app_pl = data.sdk_app_pl",
							"pm.environment.set(\"variable_key\", \"variable_value\");",
							"",
							"// console.log(\"执行\"+sdk_app_id);",
							"var p1_data = `{",
							"  \"app_id\": \"`+sdk_app_id+`\",",
							"  \"app_vc\": \"6.5.4\",",
							"  \"app_vn\": \"6.5.4\",",
							"  \"brand\": \"\",",
							"  \"gp_ver\": \"13.8.16-all [0] [PR] 235060107\",",
							"  \"language\": \"zh\",",
							"  \"mcc\": \"\",",
							"  \"mnc\": \"\",",
							"  \"model\": \"\",",
							"  \"network_type\": \"-2\",",
							"  \"nw_ver\": {",
							"    \"adcolony\": \"\", ",
							"    \"applovin\": \"9.1.3\", ",
							"    \"baidu\": \"8.8031\", ",
							"    \"chartboost\": \"7.2.0\", ",
							"    \"facebook\": \"5.1.0\", ",
							"    \"flurry\": \"Flurry_Android_279_11.2.0\", ",
							"    \"gdt\": \"4.20\", ",
							"    \"inmobi\": \"7.1.0\", ",
							"    \"ksyun\": \"\", ",
							"    \"mobpower\": \"MP_4.06.00\", ",
							"    \"mobvista\": \"MAL_9.6.01\", ",
							"    \"mopub\": \"5.3.0\", ",
							"    \"oneway\": \"2.1.3\", ",
							"    \"tapjoy\": \"11.12.2\", ",
							"    \"toutiao\": \"1.9.8.2\", ",
							"    \"unityad\": \"3.0.0\"",
							"    },",
							"  \"orient\": 1, ",
							"  \"os_vc\": \"9.0.1\",",
							"  \"os_vn\": \"9.0.1\",",
							"  \"package_name\":\"com.superapp.filemanager\",",
							"  \"pl_id\": \"`+sdk_app_pl+`\",",
							"  \"platform\": \"2\",",
							"  \"ps_id\": \"\",",
							"  \"screen\": \"1080*1920\",",
							"  \"sdk_ver\": \"UA_5.6.8\",",
							"  \"session_id\": \"\",",
							"  \"system\": 1,",
							"  \"timezone\": \"GMT+08:00\",",
							"  \"upid\":\"xx\",",
							"  \"channel\":\"\",",
							"  \"sub_channel\":\"\",",
							"  \"ua\":\"ew+ewe=ewe/ggfgfg\",",
							"  \"custom\":{\"cohort_channel\":\"organic\",\"JPID\":\"30890c9d8b03f47382b5b05e7121884d\",\"aa\":\"bbb\",\"bb\":\"ccc\"},",
							"  \"sy_id\":\"\"",
							"}`",
							"// ",
							"",
							"var p2_data = `{",
							"  \"android_id\": \"PPLL23\", ",
							"  \"device_id\":\"PPLL23\",",
							"  \"idfa\":\"\",",
							"  \"idfv\":\"ios11111111\",",
							"  \"gaid\": \"000-000\"",
							"",
							"}`",
							"",
							"// 加密p1",
							"function encryption_p1(data)",
							"{",
							"    return (new Buffer(data, 'utf8')).toString('base64');",
							"}",
							"",
							"// 加密p2",
							"function encryption_p2(data)",
							"{",
							"    return (new Buffer(data, 'utf8')).toString('base64');",
							"    ",
							"}",
							"",
							"var encode_data1 = encryption_p1(p1_data);",
							"var encode_data2 = encryption_p2(p2_data);",
							"var temp = sdk_app_key+'api_ver=1.0&'+'p='+encode_data1+'&p2='+encode_data2",
							"var sign_data = CryptoJS.MD5(temp).toString();",
							"console.log(encode_data1);",
							"console.log(encode_data2);",
							"console.log(sign_data);",
							"",
							"pm.environment.set(\"p1\", encode_data1);",
							"pm.environment.set(\"p2\", encode_data2);",
							"pm.environment.set(\"sign\", sign_data);",
							"// console.log('执行 placement_release 接口');",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "36ed26e1-0242-4455-a48e-6788ef467806",
						"exec": [
							"function decryption(data)",
							"{",
							"    var CHARS  = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';",
							"    var CHARS1 = 'dMWnhbeyKr0J+IvLNOx3BFkEuml92/5fjSqGT7R8pZVciPHAstC4UXa6QDw1gozY=';",
							"    var chars_combine={};",
							"    var result=''",
							"    for(var i = 0;i < CHARS.length; i++) chars_combine[CHARS1[i]] = CHARS[i];",
							"    for(var j = 0;j< data.length;j++) result += chars_combine[data[j]];",
							"    ",
							"    var base64decode = (new Buffer(result, 'base64').toString('utf8'))",
							"    return base64decode;",
							"}",
							"",
							"",
							"var de_respone = decryption(pm.response.text());",
							"pm.environment.set(\"req_reponse\", de_respone);",
							"var jsonData = JSON.parse(de_respone);",
							"",
							"pm.test(\"Response_release\", function () {",
							"    pm.expect(jsonData).to.have.property('code', 0)",
							"});",
							"//console.log(jsonData['data']);",
							"",
							"",
							"pm.environment.unset(\"p1\");",
							"pm.environment.unset(\"p2\");",
							"pm.environment.unset(\"sign\");",
							"",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"folder": null,
			"rawModeData": "{\r\n    \"p\": \"{{p1}}\",\r\n    \"p2\": \"{{p2}}\",\r\n    \"sign\": \"{{sign}}\",\r\n    \"api_ver\":\"1.0\"\r\n}",
			"headers": "Content-Type: application/json\n",
			"pathVariables": {}
		}
	]
}